{"version":3,"sources":["formatters/checkstyleFormatter.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAUA,IAAM,iBAAiB,SAAjB,cAAiB,CAAC,OAAD,EAAa;AAChC,QAAI,QAAQ,QAAR,KAAqB,CAArB,EAAwB;AACxB,eAAO,OAAP,CADwB;KAA5B,MAEO;AACH,eAAO,SAAP,CADG;KAFP;CADmB;;;;;;kBAWR,UAAC,MAAD,EAAgC;AAC3C,QAAI,YAAJ,CAD2C;;AAG3C,UAAM,qBACD,MADC,CACM,YADN,CAAN,CAH2C;;AAM3C,QAAI,GAAJ,CAAQ,SAAR,EAAmB,KAAnB,EAN2C;;AAQ3C,2BAAU,OAAO,OAAP,EAAgB,UAAC,UAAD,EAAgB;AACtC,YAAI,CAAC,WAAW,QAAX,CAAoB,MAApB,EAA4B;AAC7B,mBAD6B;SAAjC;;AAIA,YAAM,WAAW,IAAI,GAAJ,CAAQ,MAAR,EAAgB;AAC7B,kBAAM,WAAW,QAAX;SADO,CAAX,CALgC;;AAStC,+BAAU,WAAW,QAAX,EAAqB,UAAC,OAAD,EAAa;AACxC,qBAAS,GAAT,CAAa,OAAb,EAAsB;AAClB,wBAAQ,QAAQ,MAAR;AACR,sBAAM,QAAQ,IAAR;AACN,yBAAS,MAAM,QAAQ,MAAR,GAAiB,IAAvB,GAA8B,QAAQ,OAAR;AACvC,0BAAU,eAAe,OAAf,CAAV;AACA,wBAAQ,EAAR;aALJ,EADwC;SAAb,CAA/B,CATsC;KAAhB,CAA1B,CAR2C;;AA4B3C,UAAM,IAAI,GAAJ,CAAQ;AACV,gBAAQ,IAAR;KADE,CAAN,CA5B2C;;AAgC3C,WAAO,GAAP,CAhC2C;CAAhC","file":"formatters/checkstyleFormatter.js","sourcesContent":["import _ from 'lodash';\nimport builder from 'xmlbuilder';\nimport type {\n    ReportType\n} from './../types';\n\n/**\n * @param {lintText~message} message\n * @returns {string}\n */\nconst getMessageType = (message) => {\n    if (message.severity === 2) {\n        return 'error';\n    } else {\n        return 'warning';\n    }\n};\n\n/**\n * @see https://github.com/mila-labs/jshint-checkstyle-file-reporter\n */\nexport default (report: ReportType): string => {\n    let xml;\n\n    xml = builder\n        .create('checkstyle');\n\n    xml.att('version', '4.3');\n\n    _.forEach(report.results, (fileReport) => {\n        if (!fileReport.messages.length) {\n            return;\n        }\n\n        const fileNode = xml.ele('file', {\n            name: fileReport.filePath\n        });\n\n        _.forEach(fileReport.messages, (message) => {\n            fileNode.ele('error', {\n                column: message.column,\n                line: message.line,\n                message: '[' + message.ruleId + '] ' + message.message,\n                severity: getMessageType(message),\n                source: ''\n            });\n        });\n    });\n\n    xml = xml.end({\n        pretty: true\n    });\n\n    return xml;\n};\n"],"sourceRoot":"/source/"}